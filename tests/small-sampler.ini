;; Test for sample runner
;; Only for running

[main]
encoders=[<encoder>]
decoder=<decoder>
runner=<runner>
postprocess=None
output=tests/tmp-test-output
evaluation=[<bleu>]
overwrite_output_dir=True

[bleu]
class=evaluators.bleu.BLEUEvaluator

[encoder_vocabulary]
class=vocabulary.from_file
path=tests/tmp-encoder-vocabulary/encoder_vocabulary.pickle

[decoder_vocabulary]
class=vocabulary.from_file
path=tests/tmp-decoder-vocabulary/decoder_vocabulary.pickle

[encoder]
class=encoders.sentence_encoder.SentenceEncoder
name=sentence_encoder
rnn_size=256
max_input_len=10
embedding_size=200
dropout_keep_p=0.5
attention_type=decoding_function.Attention
data_id=source
vocabulary=<encoder_vocabulary>

[decoder]
class=decoders.decoder.Decoder
name=decoder
encoders=[<encoder>]
project_encoder_outputs=True
rnn_size=211
embedding_size=317
use_attention=True
dropout_keep_p=0.5
data_id=target
max_output_len=10
vocabulary=<decoder_vocabulary>

[runner]
; This block is used for both validation and testing to run the model on
; a given dataset.
class=sample.SampleRunner
decoder=<decoder>